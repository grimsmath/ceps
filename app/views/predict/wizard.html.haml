#wizard-predict.wizard{data: {title: "Course Enrollment Prediction Wizard"}}
  %h1 Define Prediction

  .wizard-card{data: {cardname: 'card-intro'}}
    %h3 Introduction
    .wizard-input-section
      Something

  .wizard-card{data: {cardname: 'card-semester'}}
    %h3 Select Semesters
    .wizard-input-section
      .col-md-12
        .form-group
          %label Select Current Semester
          = select("current", "semester_id", Semester.order_by(:title.desc).all.collect {|p| [ p.title, p.id ] }, {include_blank: 'Please select...'}, class: "form-control")

      .col-md-12
        .form-group
          %label Select Prediction Semester
          = select("prediction", "semester_id", Semester.order_by(:title.desc).all.collect {|p| [ p.title, p.id ] }, {include_blank: 'Please select...'}, class: "form-control")

  .wizard-card{data: {cardname: 'card-courses'}}
    %h3 Select Courses
    .wizard-input-section
      .col-md-12
        .form-group
          %label.form-label Available Courses
          %select#course-select.form-control{multiple: 'true', size: '15'}

  .wizard-card{data: {cardname: 'card-date-range'}}
    %h3 Define Date Range
    .wizard-input-section
      .col-md-12
        .form-group
          %label.form-label Starting Semester
          = select("start", "semester_id", Semester.all.collect {|p| [ p.title, p.id ] }, {include_blank: 'Please select...'}, class: "form-control")

      .col-md-12
        .form-group
          %label.form-label Ending Semester
          = select("end", "semester_id", Semester.all.collect {|p| [ p.title, p.id ] }, {include_blank: 'Please select...'}, class: "form-control")

  .wizard-card{data: {cardname: 'card-review'}}
    %h3 Review Selection
    .wizard-input-section
      %p You have selected the following options for the prediction scenario
      %table.table.table-striped
        %tr
          %td <strong>Current Semester:</strong>
          %td
            #review-current-semester
        %tr
          %td <strong>Selected Courses:</strong>
          %td
            %ul#review-selected-courses(style="list-style-type: none; list-style-position: outside; margin: 0px; padding: 0px; overflow: auto")
        %tr
          %td <strong>Starting Semester:</strong>
          %td
            #review-start-date
        %tr
          %td <strong>Ending Semester:</strong>
          %td
            #review-end-date
        %tr
          %td <strong>Prediction Semester:</strong>
          %td
            #semester-prediction

  .wizard-card{data: {cardname: 'card-run'}}
    %h3 Run Prediction
    .wizard-input-section
      Something

:coffee
  wizard = $('#wizard-predict').wizard
    contentHeight: 500
    contentWidth: 900
    backdrop: 'static'

  wizard.show()

  $('#current_semester_id').change ->
    $.get '/courses_by_semester/' + $('#current_semester_id').val(), (data) ->
      $('#course-select').empty()
      $('#review-current-semester').text($('#current_semester_id option:selected').text())

      for e in data
        option = $('<option></option>').attr('value', e.number).text(e.number + ' - ' + e.title);
        $("#course-select").append(option);

  $('#course-select').change ->
    $('#review-selected-courses').text($("#course-select option:selected").size() + ' course(s) selected')

  $('#start_semester_id').change ->
    $('#review-start-date').text($("#start_semester_id option:selected").text())

  $('#end_semester_id').change ->
    $('#review-end-date').text($("#end_semester_id option:selected").text())